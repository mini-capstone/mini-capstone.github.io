(function(t){function e(e){for(var s,i,n=e[0],l=e[1],c=e[2],d=0,u=[];d<n.length;d++)i=n[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);p&&p(e);while(u.length)u.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(s=!1)}s&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},r={app:0},o=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var p=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"01c9":function(t,e,a){"use strict";var s=a("8871"),r=a.n(s);r.a},"034f":function(t,e,a){"use strict";var s=a("64a9"),r=a.n(s);r.a},"0389":function(t,e,a){"use strict";var s=a("5c11"),r=a.n(s);r.a},1048:function(t,e,a){},"19d4":function(t,e,a){"use strict";var s=a("97d5"),r=a.n(s);r.a},"282b":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],i=a("bc3a"),n=a.n(i),l=a("323e"),c=a.n(l);n.a.interceptors.request.use((function(t){return c.a.start(),t}),(function(t){return c.a.done(),Promise.reject(t)})),n.a.interceptors.response.use((function(t){return c.a.done(),t}),(function(t){return c.a.done(),Promise.reject(t)}));var p={},d=p,u=(a("034f"),a("2877")),m=Object(u["a"])(d,r,o,!1,null,null,null),v=m.exports,g=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"exercise1-products-index"}}},[t._v(t._s(t.appConfig.name))]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise1-products-index"}}},[t._v("All products")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise1-products-new"}}},[t._v("New product")])],1)])])],1),a("router-view",{attrs:{appConfig:t.appConfig},on:{showError:t.showError}}),a("div",{staticClass:"modal fade",attrs:{id:"errorModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Error: "+t._s(t.errorMessage))]),t._m(1)]),a("div",{staticClass:"modal-body"},t._l(t.appConfig,(function(e,s){return a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-6 col-form-label",class:{"text-danger":t.missingKeys.includes(s)},attrs:{for:s}},[t._v(t._s(s))]),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.appConfig[s],expression:"appConfig[key]"}],staticClass:"form-control",class:{"is-invalid":t.missingKeys.includes(s)},attrs:{type:"text",id:s},domProps:{value:t.appConfig[s]},on:{input:function(e){e.target.composing||t.$set(t.appConfig,s,e.target.value)}}})])])})),0),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveConfig}},[t._v("Save changes")])])])])])],1)},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],_=(a("456d"),a("ac6a"),{data:function(){return{appConfig:{name:"Mini-capstone",domain:"http://localhost:3000",productsUrl:"/api/products",productsIdKey:"id",productsNameKey:"name",productsPriceKey:"price",productsImageUrlKey:"image_url",productsDescriptionKey:"description"},missingKeys:[],errorMessage:""}},created:function(){this.configureFromLocalStorage()},methods:{configureFromLocalStorage:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){var a=localStorage.getItem(e);null===a?localStorage.setItem(e,t.appConfig[e]):t.appConfig[e]=a}))},showError:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a={0:"Failed to connect (check if server is running with CORS configured)",200:"JSON doesn't match (configure keys below)",401:"Unauthorized for this page",404:"Route does not exist",500:"Code is crashing on server"};this.errorMessage=a[e]||"Unknown error",this.missingKeys=t,$("#errorModal").modal("show")},saveConfig:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){localStorage.setItem(e,t.appConfig[e])})),location.reload()}},computed:{}}),b=_,C=(a("19d4"),Object(u["a"])(b,f,h,!1,null,null,null)),y=C.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Products")]),a("div",{staticClass:"card-columns"},t._l(t.products,(function(e){return a("div",{staticClass:"card"},[a("img",{staticClass:"card-img-top",attrs:{src:e.image_url,alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),a("p",{staticClass:"card-text"},[t._v(t._s(t._f("truncate")(e.description)))]),a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"exercise1-products-show",params:{id:e.id}},append:""}},[t._v("More info")])],1)])})),0)])])},w=[],P=(a("8e6e"),a("bd86")),D=(a("5df3"),a("4f7f"),a("75fc"));a("6b54");function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function I(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(Object(a),!0).forEach((function(e){Object(P["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var K={data:function(){return{wordifiedSchema:""}},created:function(){this.wordifiedSchema=this.wordifySchema(this.schema,this.appConfig)},methods:{checkType:function(t,e){return"integer"===e||"number"===e?!isNaN(t):"string"===e?"[object String]"===Object.prototype.toString.call(t)||null===t:"array"===e?Array.isArray(t):"object"===e&&t===Object(t)},validateData:function(t,e,a){var s=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"root",o=[];return this.checkType(t,e.type)?"array"===e.type?t.forEach((function(t){o=o.concat(s.validateData(t,e.items,a,r))})):"object"===e.type&&Object.keys(e.properties).forEach((function(r){var i=e.properties[r],n=t[a[r]];o=o.concat(s.validateData(n,i,a,r))})):o.push(r),Object(D["a"])(new Set(o))},formatData:function(t,e,a){var s=this;if("array"===e.type){var r=[];return t.forEach((function(t){r.push(s.formatData(t,e.items,a))})),r}if("object"===e.type){var o=I({},t);return Object.keys(e.properties).forEach((function(r){var i=e.properties[r],n=t[a[r]];o[i.alias]=s.formatData(n,i,a)})),o}return t},wordifySchema:function(t,e){var a=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="";if("array"===t.type){var o=s?"arrays":"array";r+="".concat(o," of ").concat(this.wordifySchema(t.items,e,!0))}else if("object"===t.type){var i=s?"hashes":"hash";r+="".concat(i," with key(s): ");var n=[];Object.keys(t.properties).forEach((function(s){var r=a.wordifySchema(t.properties[s],e);n.push("<strong>".concat(e[s],"</strong>").concat(r?" ("+r+")":""))})),r+=n.join(", ")}return r},formatDataToSchema:function(t){var e=this.validateData(t,this.schema,this.appConfig);return e.length>0?void this.$emit("showError",e):this.formatData(t,this.schema,this.appConfig)}}},E={mixins:[K],props:["appConfig"],data:function(){return{products:[],schema:{type:"array",items:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImageUrlKey:{alias:"image_url",type:"string"}}}}}},created:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.productsUrl).then((function(e){t.products=t.formatDataToSchema(e.data)||t.products})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{},filters:{truncate:function(t){if(null===t)return"(No description provided)";var e=120;return t.length<e?t:t.substring(0,e-3)+"..."}}},k=E,U=Object(u["a"])(k,x,w,!1,null,null,null),N=U.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("img",{staticClass:"w-100",attrs:{src:t.product.image_url,alt:""}})]),a("div",{staticClass:"col-md-9"},[a("h1",[t._v(t._s(t.product.name))]),a("p",{staticClass:"lead"},[t._v(t._s(t.product.description))]),a("table",{staticClass:"table table-hover"},[a("tbody",t._l(t.originalProductData,(function(e,s){return a("tr",[a("td",[a("small",[t._v(t._s(s))])]),a("td",[a("small",[t._v(t._s(e))])])])})),0)]),a("router-link",{staticClass:"btn btn-primary mr-1",attrs:{to:{name:"exercise1-products-edit",params:{id:t.product.id}}}},[t._v("Edit product")]),a("button",{staticClass:"btn btn-warning mr-1",attrs:{type:"button","data-toggle":"modal","data-target":"#deleteModal"}},[t._v("Delete product")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise1-products-index"}}},[t._v("Back to all products")])],1)])]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[t._v("Are you sure you want to delete this product? This action cannot be undone.")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.deleteProduct(t.product)}}},[t._v("Delete")])])])])])])},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Confirm delete")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],O={mixins:[K],props:["appConfig"],data:function(){return{product:{id:0},wordifiedSchema:"",schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImageUrlKey:{alias:"image_url",type:"string"}}},originalProductData:{},errors:[]}},created:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product,t.originalProductData=e.data})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{deleteProduct:function(t){var e=this;n.a.delete(this.appConfig.domain+this.appConfig.productsUrl+"/"+t.id).then((function(t){$("#deleteModal").modal("hide"),e.$router.push({name:"exercise1-products-index"})})).catch((function(t){e.errors=t.response.data.errors}))}}},q=O,M=Object(u["a"])(q,T,j,!1,null,null,null),L=M.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data sending to")]),t._v(": POST "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl))]),t._m(0)])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("New product")]),a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Image url:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.image_url,expression:"image_url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.image_url},on:{input:function(e){e.target.composing||(t.image_url=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise1-products-index"}}},[t._v("Cancel")])],1)])])},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(": "),a("strong",[t._v("name")]),t._v(", "),a("strong",[t._v("price")]),t._v(", "),a("strong",[t._v("image_url")]),t._v(", "),a("strong",[t._v("description")])])}],G=(a("7f7f"),{data:function(){return{name:"",price:"",image_url:"",description:"",errors:[]}},props:["appConfig"],created:function(){},methods:{submit:function(){var t=this,e={name:this.name,price:this.price,image_url:this.image_url,description:this.description};n.a.post(this.appConfig.domain+this.appConfig.productsUrl,e).then((function(e){t.$router.push({name:"exercise1-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}}),F=G,R=Object(u["a"])(F,A,H,!1,null,null,null),B=R.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})]),a("br"),a("p",[a("strong",[t._v("Data sending to")]),t._v(": PATCH "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),t._m(0)])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Edit product")]),a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Image url:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.image_url,expression:"product.image_url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.image_url},on:{input:function(e){e.target.composing||t.$set(t.product,"image_url",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise1-products-show",params:{id:t.product.id}}}},[t._v("Cancel")])],1)])])},z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(": "),a("strong",[t._v("name")]),t._v(", "),a("strong",[t._v("price")]),t._v(", "),a("strong",[t._v("image_url")]),t._v(", "),a("strong",[t._v("description")])])}],J={mixins:[K],props:["appConfig"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsImageUrlKey:{alias:"image_url",type:"string"},productsDescriptionKey:{alias:"description",type:"string"}}},errors:[]}},created:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{submit:function(){var t=this,e={name:this.product.name,price:this.product.price,image_url:this.product.image_url,description:this.product.description};n.a.patch(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id,e).then((function(e){t.$router.push({name:"exercise1-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},W=J,V=Object(u["a"])(W,Q,z,!1,null,null,null),X=V.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"exercise2-products-index"}}},[t._v(t._s(t.appConfig.name))]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise2-products-index"}}},[t._v("All products")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise2-products-new"}}},[t._v("New product")])],1)]),a("form",{staticClass:"form-inline my-2 my-lg-0",on:{submit:function(e){return e.preventDefault(),t.submitSearch()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerms,expression:"searchTerms"}],staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:t.searchTerms},on:{input:function(e){e.target.composing||(t.searchTerms=e.target.value)}}}),a("button",{staticClass:"btn btn-outline-success my-2 my-sm-0",attrs:{type:"submit"}},[t._v("Search")])])])],1),a("router-view",{attrs:{appConfig:t.appConfig},on:{showError:t.showError}}),a("div",{staticClass:"modal fade",attrs:{id:"errorModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Error: "+t._s(t.errorMessage))]),t._m(1)]),a("div",{staticClass:"modal-body"},t._l(t.appConfig,(function(e,s){return a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-6 col-form-label",class:{"text-danger":t.missingKeys.includes(s)},attrs:{for:s}},[t._v(t._s(s))]),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.appConfig[s],expression:"appConfig[key]"}],staticClass:"form-control",class:{"is-invalid":t.missingKeys.includes(s)},attrs:{type:"text",id:s},domProps:{value:t.appConfig[s]},on:{input:function(e){e.target.composing||t.$set(t.appConfig,s,e.target.value)}}})])])})),0),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveConfig}},[t._v("Save changes")])])])])])],1)},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],tt={data:function(){return{appConfig:{name:"Mini-capstone",domain:"http://localhost:3000",productsUrl:"/api/products",productsIdKey:"id",productsNameKey:"name",productsPriceKey:"price",productsImageUrlKey:"image_url",productsDescriptionKey:"description"},missingKeys:[],errorMessage:"",searchTerms:""}},created:function(){this.configureFromLocalStorage()},methods:{configureFromLocalStorage:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){var a=localStorage.getItem(e);null===a?localStorage.setItem(e,t.appConfig[e]):t.appConfig[e]=a}))},showError:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a={0:"Failed to connect (check if server is running with CORS configured)",200:"JSON doesn't match (configure keys below)",401:"Unauthorized for this page",404:"Route does not exist",500:"Code is crashing on server"};this.errorMessage=a[e]||"Unknown error",this.missingKeys=t,$("#errorModal").modal("show")},saveConfig:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){localStorage.setItem(e,t.appConfig[e])})),location.reload()},submitSearch:function(){var t=this.searchTerms;this.searchTerms="",this.$router.push({name:"exercise2-products-index",query:{search:t}})}},computed:{}},et=tt,at=(a("6b2f"),Object(u["a"])(et,Y,Z,!1,null,null,null)),st=at.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Products")]),a("a",{attrs:{href:"/"}}),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise2-products-index",query:{sort:"price",sort_order:"asc"}},append:""}},[t._v("Sort by lowest price")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise2-products-index",query:{sort:"price",sort_order:"desc"}},append:""}},[t._v("Sort by highest price")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise2-products-index",query:{discount:!0}},append:""}},[t._v("Show only discounted")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise2-products-index"},append:""}},[t._v("Show all")]),a("div",{staticClass:"card-columns"},t._l(t.products,(function(e){return a("div",{staticClass:"card"},[a("img",{staticClass:"card-img-top",attrs:{src:e.image_url,alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),a("h6",[t._v(t._s(e.price))]),a("p",{staticClass:"card-text"},[t._v(t._s(t._f("truncate")(e.description)))]),a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"exercise2-products-show",params:{id:e.id}},append:""}},[t._v("More info")])],1)])})),0)],1)])},ot=[],it=(a("28a5"),{mixins:[K],props:["appConfig"],data:function(){return{products:[],schema:{type:"array",items:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImageUrlKey:{alias:"image_url",type:"string"}}}}}},created:function(){this.requestProducts()},beforeRouteUpdate:function(t,e,a){a(),this.requestProducts()},methods:{requestProducts:function(){var t=this,e=this.$route.fullPath.split("?").length>1?"?"+this.$route.fullPath.split("?")[1]:"";n.a.get(this.appConfig.domain+this.appConfig.productsUrl+e).then((function(e){t.products=t.formatDataToSchema(e.data)||t.products})).catch((function(e){console.log(e),t.$emit("showError",["domain","productsUrl"],e.request.status)}))}},filters:{truncate:function(t){if(null===t)return"(No description provided)";var e=120;return t.length<e?t:t.substring(0,e-3)+"..."}}}),nt=it,lt=Object(u["a"])(nt,rt,ot,!1,null,null,null),ct=lt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("img",{staticClass:"w-100",attrs:{src:t.product.image_url,alt:""}})]),a("div",{staticClass:"col-md-9"},[a("h1",[t._v(t._s(t.product.name))]),a("p",{staticClass:"lead"},[t._v(t._s(t.product.description))]),a("table",{staticClass:"table table-hover"},[a("tbody",t._l(t.originalProductData,(function(e,s){return a("tr",[a("td",[a("small",[t._v(t._s(s))])]),a("td",[a("small",[t._v(t._s(e))])])])})),0)]),a("router-link",{staticClass:"btn btn-primary mr-1",attrs:{to:{name:"exercise2-products-edit",params:{id:t.product.id}}}},[t._v("Edit product")]),a("button",{staticClass:"btn btn-warning mr-1",attrs:{type:"button","data-toggle":"modal","data-target":"#deleteModal"}},[t._v("Delete product")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise2-products-index"}}},[t._v("Back to all products")])],1)])]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[t._v("Are you sure you want to delete this product? This action cannot be undone.")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.deleteProduct(t.product)}}},[t._v("Delete")])])])])])])},dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Confirm delete")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],ut={mixins:[K],props:["appConfig"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImageUrlKey:{alias:"image_url",type:"string"}}},originalProductData:{},errors:[]}},created:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product,t.originalProductData=e.data})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{deleteProduct:function(t){var e=this;console.log("delete",t),n.a.delete(this.appConfig.domain+this.appConfig.productsUrl+"/"+t.id).then((function(t){$("#deleteModal").modal("hide"),e.$router.push({name:"exercise2-products-index"})})).catch((function(t){e.errors=t.response.data.errors}))}}},mt=ut,vt=Object(u["a"])(mt,pt,dt,!1,null,null,null),gt=vt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data sending to")]),t._v(": POST "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl))]),t._m(0)])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("New product")]),a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Image url:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.image_url,expression:"image_url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.image_url},on:{input:function(e){e.target.composing||(t.image_url=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise2-products-index"}}},[t._v("Cancel")])],1)])])},ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(": "),a("strong",[t._v("name")]),t._v(", "),a("strong",[t._v("price")]),t._v(", "),a("strong",[t._v("image_url")]),t._v(", "),a("strong",[t._v("description")])])}],_t={data:function(){return{name:"",price:"",image_url:"",description:"",errors:[]}},props:["appConfig"],created:function(){},methods:{submit:function(){var t=this,e={name:this.name,price:this.price,image_url:this.image_url,description:this.description};n.a.post(this.appConfig.domain+this.appConfig.productsUrl,e).then((function(e){t.$router.push({name:"exercise2-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},bt=_t,Ct=Object(u["a"])(bt,ft,ht,!1,null,null,null),yt=Ct.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})]),a("br"),a("p",[a("strong",[t._v("Data sending to")]),t._v(": PATCH "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),t._m(0)])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Edit product")]),a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Image url:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.image_url,expression:"product.image_url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.image_url},on:{input:function(e){e.target.composing||t.$set(t.product,"image_url",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise2-products-show",params:{id:t.product.id}}}},[t._v("Cancel")])],1)])])},wt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(": "),a("strong",[t._v("name")]),t._v(", "),a("strong",[t._v("price")]),t._v(", "),a("strong",[t._v("image_url")]),t._v(", "),a("strong",[t._v("description")])])}],Pt={mixins:[K],props:["appConfig"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsImageUrlKey:{alias:"image_url",type:"string"},productsDescriptionKey:{alias:"description",type:"string"}}},errors:[]}},created:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{submit:function(){var t=this,e={name:this.product.name,price:this.product.price,image_url:this.product.image_url,description:this.product.description};n.a.patch(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id,e).then((function(e){t.$router.push({name:"exercise2-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},Dt=Pt,$t=Object(u["a"])(Dt,xt,wt,!1,null,null,null),St=$t.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"exercise3-products-index"}}},[t._v(t._s(t.appConfig.name))]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise3-products-index"}}},[t._v("All products")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise3-products-new"}}},[t._v("New product")])],1)]),a("form",{staticClass:"form-inline my-2 my-lg-0",on:{submit:function(e){return e.preventDefault(),t.submitSearch()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerms,expression:"searchTerms"}],staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:t.searchTerms},on:{input:function(e){e.target.composing||(t.searchTerms=e.target.value)}}}),a("button",{staticClass:"btn btn-outline-success my-2 my-sm-0",attrs:{type:"submit"}},[t._v("Search")])])])],1),a("router-view",{attrs:{appConfig:t.appConfig},on:{showError:t.showError}}),a("div",{staticClass:"modal fade",attrs:{id:"errorModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Error: "+t._s(t.errorMessage))]),t._m(1)]),a("div",{staticClass:"modal-body"},t._l(t.appConfig,(function(e,s){return a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-6 col-form-label",class:{"text-danger":t.missingKeys.includes(s)},attrs:{for:s}},[t._v(t._s(s))]),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.appConfig[s],expression:"appConfig[key]"}],staticClass:"form-control",class:{"is-invalid":t.missingKeys.includes(s)},attrs:{type:"text",id:s},domProps:{value:t.appConfig[s]},on:{input:function(e){e.target.composing||t.$set(t.appConfig,s,e.target.value)}}})])])})),0),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveConfig}},[t._v("Save changes")])])])])])],1)},Kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],Et={data:function(){return{appConfig:{name:"Mini-capstone",domain:"http://localhost:3000",productsUrl:"/api/products",productsIdKey:"id",productsNameKey:"name",productsPriceKey:"price",productsImagesKey:"images",productsDescriptionKey:"description",imagesUrl:"/api/images",imagesIdKey:"id",imagesUrlKey:"url",suppliersUrl:"/api/suppliers",suppliersIdKey:"id",suppliersNameKey:"name"},missingKeys:[],errorMessage:"",searchTerms:""}},created:function(){this.configureFromLocalStorage()},methods:{configureFromLocalStorage:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){var a=localStorage.getItem(e);null===a?localStorage.setItem(e,t.appConfig[e]):t.appConfig[e]=a}))},showError:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a={0:"Failed to connect (check if server is running with CORS configured)",200:"JSON doesn't match (configure keys below)",401:"Unauthorized for this page",404:"Route does not exist",500:"Code is crashing on server"};this.errorMessage=a[e]||"Unknown error",this.missingKeys=t,$("#errorModal").modal("show")},saveConfig:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){localStorage.setItem(e,t.appConfig[e])})),location.reload()},submitSearch:function(){var t=this.searchTerms;this.searchTerms="",this.$router.push({name:"exercise3-products-index",query:{search:t}})}},computed:{}},kt=Et,Ut=(a("d22f"),Object(u["a"])(kt,It,Kt,!1,null,null,null)),Nt=Ut.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Products")]),a("a",{attrs:{href:"/"}}),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise3-products-index",query:{sort:"price",sort_order:"asc"}},append:""}},[t._v("Sort by lowest price")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise3-products-index",query:{sort:"price",sort_order:"desc"}},append:""}},[t._v("Sort by highest price")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise3-products-index",query:{discount:!0}},append:""}},[t._v("Show only discounted")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise3-products-index"},append:""}},[t._v("Show all")]),a("div",{staticClass:"card-columns"},t._l(t.products,(function(e){return a("div",{staticClass:"card"},[a("img",{staticClass:"card-img-top",attrs:{src:t.getPrimaryImage(e),alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),a("h6",[t._v(t._s(e.price))]),a("p",{staticClass:"card-text"},[t._v(t._s(t._f("truncate")(e.description)))]),a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"exercise3-products-show",params:{id:e.id}},append:""}},[t._v("More info")])],1)])})),0)],1)])},jt=[],Ot={mixins:[K],props:["appConfig"],data:function(){return{products:[],schema:{type:"array",items:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImagesKey:{alias:"images",type:"array",items:{type:"object",properties:{imagesUrlKey:{alias:"url",type:"string"}}}}}}}}},created:function(){this.requestProducts()},beforeRouteUpdate:function(t,e,a){a(),this.requestProducts()},methods:{requestProducts:function(){var t=this,e=this.$route.fullPath.split("?").length>1?"?"+this.$route.fullPath.split("?")[1]:"";n.a.get(this.appConfig.domain+this.appConfig.productsUrl+e).then((function(e){t.products=t.formatDataToSchema(e.data)||t.products})).catch((function(e){console.log(e),t.$emit("showError",["domain","productsUrl"],e.request.status)}))},getPrimaryImage:function(t){return t.images.length>0?t.images[0].url:"http://www.pinnacleeducations.in/wp-content/uploads/2017/05/no-image.jpg"}},filters:{truncate:function(t){if(null===t)return"(No description provided)";var e=120;return t.length<e?t:t.substring(0,e-3)+"..."}}},qt=Ot,Mt=Object(u["a"])(qt,Tt,jt,!1,null,null,null),Lt=Mt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel"}},[a("ol",{staticClass:"carousel-indicators"},t._l(t.product.images,(function(t,e){return a("li",{class:{active:0===e},attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":e}})})),0),a("div",{staticClass:"carousel-inner"},t._l(t.product.images,(function(t,e){return a("div",{class:{"carousel-item":!0,active:0===e}},[a("div",{staticClass:"img",style:"background-image:url("+t.url+");"})])})),0),t._m(0),t._m(1)])]),a("div",{staticClass:"col-md-9"},[a("h1",[t._v(t._s(t.product.name))]),a("p",{staticClass:"lead"},[t._v(t._s(t.product.description))]),a("table",{staticClass:"table table-hover"},[a("tbody",t._l(t.originalProductData,(function(e,s){return a("tr",[a("td",[a("small",[t._v(t._s(s))])]),a("td",[a("small",[t._v(t._s(e))])])])})),0)]),a("router-link",{staticClass:"btn btn-primary mr-1",attrs:{to:{name:"exercise3-products-edit",params:{id:t.product.id}}}},[t._v("Edit product")]),a("button",{staticClass:"btn btn-warning mr-1",attrs:{type:"button","data-toggle":"modal","data-target":"#deleteModal"}},[t._v("Delete product")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise3-products-index"}}},[t._v("Back to all products")])],1)])]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body"},[t._v("Are you sure you want to delete this product? This action cannot be undone.")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.deleteProduct(t.product)}}},[t._v("Delete")])])])])])])},Ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Confirm delete")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Gt={mixins:[K],props:["appConfig"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImagesKey:{alias:"images",type:"array",items:{type:"object",properties:{imagesUrlKey:{alias:"url",type:"string"}}}}}},originalProductData:{},errors:[]}},created:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product,t.originalProductData=e.data})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{deleteProduct:function(t){var e=this;console.log("delete",t),n.a.delete(this.appConfig.domain+this.appConfig.productsUrl+"/"+t.id).then((function(t){$("#deleteModal").modal("hide"),e.$router.push({name:"exercise3-products-index"})})).catch((function(t){e.errors=t.response.data.errors}))}}},Ft=Gt,Rt=(a("01c9"),Object(u["a"])(Ft,At,Ht,!1,null,null,null)),Bt=Rt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data sending to")]),t._v(": POST "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl))]),t._m(0),a("br"),a("p",[t._v("Note: If GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.suppliersUrl)+" exists, it will be used to display suppliers as a dropdown using the "+t._s(t.appConfig.suppliersNameKey)+" key!")])])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("New product")]),a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Image url:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.image_url,expression:"image_url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.image_url},on:{input:function(e){e.target.composing||(t.image_url=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t.suppliers.length>0?a("div",{staticClass:"form-group"},[a("label",[t._v("Supplier:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.supplier_id,expression:"supplier_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.supplier_id=e.target.multiple?a:a[0]}}},t._l(t.suppliers,(function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]):a("div",{staticClass:"form-group"},[a("label",[t._v("Supplier id:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.supplier_id,expression:"supplier_id"}],staticClass:"form-control",attrs:{type:"number",min:"1"},domProps:{value:t.supplier_id},on:{input:function(e){e.target.composing||(t.supplier_id=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise3-products-index"}}},[t._v("Cancel")])],1)])])},zt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(": "),a("strong",[t._v("name")]),t._v(", "),a("strong",[t._v("price")]),t._v(", "),a("strong",[t._v("image_url")]),t._v(", "),a("strong",[t._v("description")]),t._v(", "),a("strong",[t._v("supplier_id")])])}],Jt={data:function(){return{name:"",price:"",image_url:"",description:"",supplier_id:"",suppliers:[],errors:[]}},props:["appConfig"],created:function(){this.requestSuppliers()},methods:{requestSuppliers:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.suppliersUrl).then((function(e){var a=!0;e.data.forEach((function(e){var s=e[t.appConfig.suppliersIdKey],r=e[t.appConfig.suppliersNameKey];void 0!==s&&void 0!==r||(a=!1)})),a&&(t.suppliers=e.data)}))},submit:function(){var t=this,e={name:this.name,price:this.price,image_url:this.image_url,description:this.description,supplier_id:this.supplier_id};n.a.post(this.appConfig.domain+this.appConfig.productsUrl,e).then((function(e){t.$router.push({name:"exercise3-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},Wt=Jt,Vt=Object(u["a"])(Wt,Qt,zt,!1,null,null,null),Xt=Vt.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})]),a("br"),a("p",[a("strong",[t._v("Data sending to")]),t._v(": PATCH "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),t._m(0)])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Edit product")]),a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise3-products-show",params:{id:t.product.id}}}},[t._v("Cancel")])],1)])])},Zt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(": "),a("strong",[t._v("name")]),t._v(", "),a("strong",[t._v("price")]),t._v(", "),a("strong",[t._v("description")]),t._v(" (can't edit images or supplier)")])}],te={mixins:[K],props:["appConfig"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"}}},errors:[]}},created:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{submit:function(){var t=this,e={name:this.product.name,price:this.product.price,description:this.product.description};n.a.patch(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id,e).then((function(e){t.$router.push({name:"exercise3-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},ee=te,ae=Object(u["a"])(ee,Yt,Zt,!1,null,null,null),se=ae.exports,re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"exercise4-products-index"}}},[t._v(t._s(t.appConfig.name))]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise4-products-index"}}},[t._v("All products")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise4-products-new"}}},[t._v("New product")])],1),t._m(1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise4-orders-index"}}},[t._v("Orders")])],1),t._m(2),t.loggedIn()?t._e():a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise4-signup"}}},[t._v("Signup")])],1),t.loggedIn()?t._e():a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise4-login"}}},[t._v("Login")])],1),t.loggedIn()?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise4-logout"}}},[t._v("Logout")])],1):t._e()]),a("form",{staticClass:"form-inline my-2 my-lg-0",on:{submit:function(e){return e.preventDefault(),t.submitSearch()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerms,expression:"searchTerms"}],staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:t.searchTerms},on:{input:function(e){e.target.composing||(t.searchTerms=e.target.value)}}}),a("button",{staticClass:"btn btn-outline-success my-2 my-sm-0",attrs:{type:"submit"}},[t._v("Search")])])])],1),a("router-view",{attrs:{appConfig:t.appConfig},on:{showError:t.showError}}),a("div",{staticClass:"modal fade",attrs:{id:"errorModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Error: "+t._s(t.errorMessage))]),t._m(3)]),a("div",{staticClass:"modal-body"},t._l(t.appConfig,(function(e,s){return a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-6 col-form-label",class:{"text-danger":t.missingKeys.includes(s)},attrs:{for:s}},[t._v(t._s(s))]),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.appConfig[s],expression:"appConfig[key]"}],staticClass:"form-control",class:{"is-invalid":t.missingKeys.includes(s)},attrs:{type:"text",id:s},domProps:{value:t.appConfig[s]},on:{input:function(e){e.target.composing||t.$set(t.appConfig,s,e.target.value)}}})])])})),0),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveConfig}},[t._v("Save changes")])])])])])],1)},oe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("span",{staticClass:"nav-link disabled"},[t._v(" | ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("span",{staticClass:"nav-link disabled"},[t._v(" | ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],ie={data:function(){return{appConfig:{name:"Mini-capstone",domain:"http://localhost:3000",productsUrl:"/api/products",productsIdKey:"id",productsNameKey:"name",productsPriceKey:"price",productsImagesKey:"images",productsDescriptionKey:"description",imagesUrl:"/api/images",imagesIdKey:"id",imagesUrlKey:"url",suppliersUrl:"/api/suppliers",suppliersIdKey:"id",suppliersNameKey:"name",ordersUrl:"/api/orders",ordersIdKey:"id",ordersQuantityKey:"quantity",ordersSubtotalKey:"subtotal",ordersTaxKey:"tax",ordersTotalKey:"total",ordersProductKey:"product"},missingKeys:[],errorMessage:"",searchTerms:""}},created:function(){this.configureFromLocalStorage()},methods:{configureFromLocalStorage:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){var a=localStorage.getItem(e);null===a?localStorage.setItem(e,t.appConfig[e]):t.appConfig[e]=a}))},showError:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a={0:"Failed to connect (check if server is running with CORS configured)",200:"JSON doesn't match (configure keys below)",401:"Unauthorized for this page",404:"Route does not exist",500:"Code is crashing on server"};this.errorMessage=a[e]||"Unknown error",this.missingKeys=t,$("#errorModal").modal("show")},saveConfig:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){localStorage.setItem(e,t.appConfig[e])})),location.reload()},submitSearch:function(){var t=this.searchTerms;this.searchTerms="",this.$router.push({name:"exercise4-products-index",query:{search:t}})},loggedIn:function(){return!!localStorage.getItem("jwt")}},computed:{}},ne=ie,le=(a("5b80"),Object(u["a"])(ne,re,oe,!1,null,null,null)),ce=le.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Products")]),a("a",{attrs:{href:"/"}}),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise4-products-index",query:{sort:"price",sort_order:"asc"}},append:""}},[t._v("Sort by lowest price")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise4-products-index",query:{sort:"price",sort_order:"desc"}},append:""}},[t._v("Sort by highest price")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise4-products-index",query:{discount:!0}},append:""}},[t._v("Show only discounted")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise4-products-index"},append:""}},[t._v("Show all")]),a("div",{staticClass:"card-columns"},t._l(t.products,(function(e){return a("div",{staticClass:"card"},[a("img",{staticClass:"card-img-top",attrs:{src:t.getPrimaryImage(e),alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),a("h6",[t._v(t._s(e.price))]),a("p",{staticClass:"card-text"},[t._v(t._s(t._f("truncate")(e.description)))]),a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"exercise4-products-show",params:{id:e.id}},append:""}},[t._v("More info")])],1)])})),0)],1)])},de=[],ue={mixins:[K],props:["appConfig"],data:function(){return{products:[],schema:{type:"array",items:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImagesKey:{alias:"images",type:"array",items:{type:"object",properties:{imagesUrlKey:{alias:"url",type:"string"}}}}}}}}},created:function(){this.requestProducts()},beforeRouteUpdate:function(t,e,a){a(),this.requestProducts()},methods:{requestProducts:function(){var t=this,e=this.$route.fullPath.split("?").length>1?"?"+this.$route.fullPath.split("?")[1]:"";n.a.get(this.appConfig.domain+this.appConfig.productsUrl+e).then((function(e){t.products=t.formatDataToSchema(e.data)||t.products})).catch((function(e){console.log(e),t.$emit("showError",["domain","productsUrl"],e.request.status)}))},getPrimaryImage:function(t){return t.images.length>0?t.images[0].url:"http://www.pinnacleeducations.in/wp-content/uploads/2017/05/no-image.jpg"}},filters:{truncate:function(t){if(null===t)return"(No description provided)";var e=120;return t.length<e?t:t.substring(0,e-3)+"..."}}},me=ue,ve=Object(u["a"])(me,pe,de,!1,null,null,null),ge=ve.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel"}},[a("ol",{staticClass:"carousel-indicators"},t._l(t.product.images,(function(t,e){return a("li",{class:{active:0===e},attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":e}})})),0),a("div",{staticClass:"carousel-inner"},t._l(t.product.images,(function(t,e){return a("div",{class:{"carousel-item":!0,active:0===e}},[a("div",{staticClass:"img",style:"background-image:url("+t.url+");"})])})),0),t._m(0),t._m(1)]),a("div",{staticClass:"card mt-4"},[a("div",{staticClass:"card-body"},[a("form",{staticClass:"mb-4",on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("label",[t._v("Quantity:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),a("input",{staticClass:"btn btn-primary mt-2",attrs:{type:"submit",value:"Buy now!"}})])])])]),a("div",{staticClass:"col-md-9"},[a("h1",[t._v(t._s(t.product.name))]),a("p",{staticClass:"lead"},[t._v(t._s(t.product.description))]),a("table",{staticClass:"table table-hover"},[a("tbody",t._l(t.originalProductData,(function(e,s){return a("tr",[a("td",[a("small",[t._v(t._s(s))])]),a("td",[a("small",[t._v(t._s(e))])])])})),0)]),a("router-link",{staticClass:"btn btn-primary mr-1",attrs:{to:{name:"exercise4-products-edit",params:{id:t.product.id}}}},[t._v("Edit product")]),a("button",{staticClass:"btn btn-warning mr-1",attrs:{type:"button","data-toggle":"modal","data-target":"#deleteModal"}},[t._v("Delete product")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise4-products-index"}}},[t._v("Back to all products")])],1)])]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body"},[t._v("Are you sure you want to delete this product? This action cannot be undone.")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.deleteProduct(t.product)}}},[t._v("Delete")])])])])])])},he=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Confirm delete")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],_e={mixins:[K],props:["appConfig"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImagesKey:{alias:"images",type:"array",items:{type:"object",properties:{imagesUrlKey:{alias:"url",type:"string"}}}}}},originalProductData:{},quantity:null,errors:[]}},created:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product,t.originalProductData=e.data})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{deleteProduct:function(t){var e=this;console.log("delete",t),n.a.delete(this.appConfig.domain+this.appConfig.productsUrl+"/"+t.id).then((function(t){$("#deleteModal").modal("hide"),e.$router.push({name:"exercise4-products-index"})})).catch((function(t){e.errors=t.response.data.errors}))},submit:function(){var t=this,e={product_id:this.$route.params.id,quantity:this.quantity};n.a.post(this.appConfig.domain+this.appConfig.ordersUrl,e).then((function(e){t.quantity=null,t.$router.push({name:"exercise4-orders-show",params:{id:e.data.id}})}))}}},be=_e,Ce=(a("0389"),Object(u["a"])(be,fe,he,!1,null,null,null)),ye=Ce.exports,xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data sending to")]),t._v(": POST "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl))]),t._m(0),a("br"),a("p",[t._v("Note: If GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.suppliersUrl)+" exists, it will be used to display suppliers as a dropdown using the "+t._s(t.appConfig.suppliersNameKey)+" key!")])])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("New product")]),a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Image url:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.image_url,expression:"image_url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.image_url},on:{input:function(e){e.target.composing||(t.image_url=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t.suppliers.length>0?a("div",{staticClass:"form-group"},[a("label",[t._v("Supplier:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.supplier_id,expression:"supplier_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.supplier_id=e.target.multiple?a:a[0]}}},t._l(t.suppliers,(function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]):a("div",{staticClass:"form-group"},[a("label",[t._v("Supplier id:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.supplier_id,expression:"supplier_id"}],staticClass:"form-control",attrs:{type:"number",min:"1"},domProps:{value:t.supplier_id},on:{input:function(e){e.target.composing||(t.supplier_id=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise4-products-index"}}},[t._v("Cancel")])],1)])])},we=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(": "),a("strong",[t._v("name")]),t._v(", "),a("strong",[t._v("price")]),t._v(", "),a("strong",[t._v("image_url")]),t._v(", "),a("strong",[t._v("description")]),t._v(", "),a("strong",[t._v("supplier_id")])])}],Pe={data:function(){return{name:"",price:"",image_url:"",description:"",supplier_id:"",suppliers:[],errors:[]}},props:["appConfig"],created:function(){this.requestSuppliers()},methods:{requestSuppliers:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.suppliersUrl).then((function(e){var a=!0;e.data.forEach((function(e){var s=e[t.appConfig.suppliersIdKey],r=e[t.appConfig.suppliersNameKey];void 0!==s&&void 0!==r||(a=!1)})),a&&(t.suppliers=e.data)}))},submit:function(){var t=this,e={name:this.name,price:this.price,image_url:this.image_url,description:this.description,supplier_id:this.supplier_id};n.a.post(this.appConfig.domain+this.appConfig.productsUrl,e).then((function(e){t.$router.push({name:"exercise4-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},De=Pe,$e=Object(u["a"])(De,xe,we,!1,null,null,null),Se=$e.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})]),a("br"),a("p",[a("strong",[t._v("Data sending to")]),t._v(": PATCH "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),t._m(0)])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Edit product")]),a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise4-products-show",params:{id:t.product.id}}}},[t._v("Cancel")])],1)])])},Ke=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(": "),a("strong",[t._v("name")]),t._v(", "),a("strong",[t._v("price")]),t._v(", "),a("strong",[t._v("description")]),t._v(" (can't edit images or supplier)")])}],Ee={mixins:[K],props:["appConfig"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"}}},errors:[]}},created:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{submit:function(){var t=this,e={name:this.product.name,price:this.product.price,description:this.product.description};n.a.patch(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id,e).then((function(e){t.$router.push({name:"exercise4-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},ke=Ee,Ue=Object(u["a"])(ke,Ie,Ke,!1,null,null,null),Ne=Ue.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.ordersUrl))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Orders")]),0===t.orders.length?a("p",[t._v("No orders placed yet!")]):a("table",{staticClass:"table table-hover"},[t._m(0),a("tbody",t._l(t.orders,(function(e){return a("tr",[a("td",[t._v(t._s(e.product.name))]),a("td",[t._v(t._s(e.quantity))]),a("td",[t._v(t._s(e.subtotal))]),a("td",[t._v(t._s(e.tax))]),a("td",[t._v(t._s(e.total))]),a("td",[a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"exercise4-orders-show",params:{id:e.id}},append:""}},[t._v("More info")])],1)])})),0)])])])},je=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product")]),a("th",[t._v("Quantity")]),a("th",[t._v("Subtotal")]),a("th",[t._v("Tax")]),a("th",[t._v("Total")]),a("th")])])}],Oe={mixins:[K],props:["appConfig"],data:function(){return{orders:[],schema:{type:"array",items:{type:"object",properties:{ordersIdKey:{alias:"id",type:"integer"},ordersQuantityKey:{alias:"quantity",type:"integer"},ordersSubtotalKey:{alias:"subtotal",type:"number"},ordersTaxKey:{alias:"tax",type:"number"},ordersTotalKey:{alias:"total",type:"number"},ordersProductKey:{alias:"product",type:"object",properties:{productsNameKey:{alias:"name",type:"string"}}}}}}}},created:function(){this.requestOrders()},methods:{requestOrders:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.ordersUrl).then((function(e){t.orders=t.formatDataToSchema(e.data)||t.orders})).catch((function(e){console.log(e),t.$emit("showError",["domain","ordersUrl"],e.request.status)}))}}},qe=Oe,Me=Object(u["a"])(qe,Te,je,!1,null,null,null),Le=Me.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.ordersUrl)+"/"+t._s(t.$route.params.id))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Order info")]),a("table",{staticClass:"table table-hover"},[t._m(0),a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Product")]),a("td",[t._v(t._s(t.order.product.name))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Quantity")]),a("td",[t._v(t._s(t.order.quantity))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Subtotal")]),a("td",[t._v(t._s(t.order.subtotal))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Tax")]),a("td",[t._v(t._s(t.order.tax))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Total")]),a("td",[t._v(t._s(t.order.total))])])])]),a("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"exercise4-products-index"}}},[t._v("Back to all products")])],1)])},He=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("colgroup",[a("col",{staticStyle:{width:"15%"},attrs:{span:"1"}}),a("col",{staticStyle:{width:"85%"},attrs:{span:"1"}})])}],Ge={mixins:[K],props:["appConfig"],data:function(){return{order:{id:0,product:{}},schema:{type:"object",properties:{ordersIdKey:{alias:"id",type:"integer"},ordersQuantityKey:{alias:"quantity",type:"integer"},ordersSubtotalKey:{alias:"subtotal",type:"number"},ordersTaxKey:{alias:"tax",type:"number"},ordersTotalKey:{alias:"total",type:"number"},ordersProductKey:{alias:"product",type:"object",properties:{productsNameKey:{alias:"name",type:"string"}}}}}}},created:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.ordersUrl+"/"+this.$route.params.id).then((function(e){t.order=t.formatDataToSchema(e.data)||t.order})).catch((function(e){t.$emit("showError",["domain","ordersUrl"],e.request.status)}))},methods:{deleteProduct:function(t){var e=this;console.log("delete",t),n.a.delete(this.appConfig.domain+this.appConfig.productsUrl+"/"+t.id).then((function(t){$("#deleteModal").modal("hide"),e.$router.push({name:"exercise4-products-index"})})).catch((function(t){e.errors=t.response.data.errors}))},submit:function(){var t=this,e={product_id:this.$route.params.id,quantity:this.quantity};n.a.post(this.appConfig.domain+this.appConfig.ordersUrl,e).then((function(e){t.quantity=null,t.$router.push({name:"exercise4-orders-show"})}))}}},Fe=Ge,Re=(a("cce6"),Object(u["a"])(Fe,Ae,He,!1,null,null,null)),Be=Re.exports,Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"signup"},[a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Signup")]),a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password confirmation:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.passwordConfirmation},on:{input:function(e){e.target.composing||(t.passwordConfirmation=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},ze=[],Je={data:function(){return{name:"",email:"",password:"",passwordConfirmation:"",errors:[]}},methods:{submit:function(){var t=this,e={name:this.name,email:this.email,password:this.password,password_confirmation:this.passwordConfirmation};n.a.post("http://localhost:3000/api/users",e).then((function(e){t.$router.push({name:"exercise4-login"})})).catch((function(e){t.errors=e.response.data.errors}))}}},We=Je,Ve=Object(u["a"])(We,Qe,ze,!1,null,null,null),Xe=Ve.exports,Ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Login")]),a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},Ze=[],ta={template:"#login-page",data:function(){return{email:"",password:"",errors:[]}},methods:{submit:function(){var t=this,e={email:this.email,password:this.password};n.a.post("http://localhost:3000/api/sessions",e).then((function(e){n.a.defaults.headers.common["Authorization"]="Bearer "+e.data.jwt,localStorage.setItem("jwt",e.data.jwt),t.$router.push({name:"exercise4-products-index"})})).catch((function(e){t.errors=["Invalid email or password."],t.email="",t.password=""}))}}},ea=ta,aa=Object(u["a"])(ea,Ye,Ze,!1,null,null,null),sa=aa.exports,ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logout"})},oa=[],ia={created:function(){delete n.a.defaults.headers.common["Authorization"],localStorage.removeItem("jwt"),this.$router.push({name:"exercise4-products-index"})}},na=ia,la=Object(u["a"])(na,ra,oa,!1,null,null,null),ca=la.exports,pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"exercise5-products-index"}}},[t._v(t._s(t.appConfig.name))]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise5-products-index"}}},[t._v("All products")])],1),t.isAdmin()?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise5-products-new"}}},[t._v("New product")])],1):t._e(),t.loggedIn()?a("li",{staticClass:"nav-item"},[a("span",{staticClass:"nav-link disabled"},[t._v(" | ")])]):t._e(),t.loggedIn()?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise5-carted-products-index"}}},[t._v("Shopping Cart")])],1):t._e(),t.loggedIn()?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise5-orders-index"}}},[t._v("Orders")])],1):t._e(),t._m(1),t.loggedIn()?t._e():a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise5-signup"}}},[t._v("Signup")])],1),t.loggedIn()?t._e():a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise5-login"}}},[t._v("Login")])],1),t.loggedIn()?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise5-logout"}}},[t._v("Logout")])],1):t._e()]),a("form",{staticClass:"form-inline my-2 my-lg-0",on:{submit:function(e){return e.preventDefault(),t.submitSearch()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerms,expression:"searchTerms"}],staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:t.searchTerms},on:{input:function(e){e.target.composing||(t.searchTerms=e.target.value)}}}),a("button",{staticClass:"btn btn-outline-success my-2 my-sm-0",attrs:{type:"submit"}},[t._v("Search")])])])],1),a("router-view",{attrs:{appConfig:t.appConfig,isAdmin:t.isAdmin},on:{showError:t.showError}}),a("div",{staticClass:"modal fade",attrs:{id:"errorModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Error: "+t._s(t.errorMessage))]),t._m(2)]),a("div",{staticClass:"modal-body"},t._l(t.appConfig,(function(e,s){return a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-6 col-form-label",class:{"text-danger":t.missingKeys.includes(s)},attrs:{for:s}},[t._v(t._s(s))]),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.appConfig[s],expression:"appConfig[key]"}],staticClass:"form-control",class:{"is-invalid":t.missingKeys.includes(s)},attrs:{type:"text",id:s},domProps:{value:t.appConfig[s]},on:{input:function(e){e.target.composing||t.$set(t.appConfig,s,e.target.value)}}})])])})),0),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveConfig}},[t._v("Save changes")])])])])])],1)},da=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("span",{staticClass:"nav-link disabled"},[t._v(" | ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],ua={data:function(){return{appConfig:{name:"Mini-capstone",domain:"http://localhost:3000",productsUrl:"/api/products",productsIdKey:"id",productsNameKey:"name",productsPriceKey:"price",productsImagesKey:"images",productsDescriptionKey:"description",imagesUrl:"/api/images",imagesIdKey:"id",imagesUrlKey:"url",suppliersUrl:"/api/suppliers",suppliersIdKey:"id",suppliersNameKey:"name",cartedProductsUrl:"/api/carted_products",cartedProductsIdKey:"id",cartedProductsQuantityKey:"quantity",cartedProductsProductKey:"product",ordersUrl:"/api/orders",ordersIdKey:"id",ordersCartedProductsKey:"carted_products",ordersSubtotalKey:"subtotal",ordersTaxKey:"tax",ordersTotalKey:"total"},missingKeys:[],errorMessage:"",searchTerms:""}},created:function(){this.configureFromLocalStorage()},methods:{configureFromLocalStorage:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){var a=localStorage.getItem(e);null===a?localStorage.setItem(e,t.appConfig[e]):t.appConfig[e]=a}))},showError:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a={0:"Failed to connect (check if server is running with CORS configured)",200:"JSON doesn't match (configure keys below)",401:"Unauthorized for this page",404:"Route does not exist",500:"Code is crashing on server"};this.errorMessage=a[e]||"Unknown error",this.missingKeys=t,$("#errorModal").modal("show")},saveConfig:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){localStorage.setItem(e,t.appConfig[e])})),location.reload()},submitSearch:function(){var t=this.searchTerms;this.searchTerms="",this.$router.push({name:"exercise5-products-index",query:{search:t}})},loggedIn:function(){return!!localStorage.getItem("jwt")},isAdmin:function(){return"true"===localStorage.getItem("admin")}},computed:{}},ma=ua,va=(a("c581"),Object(u["a"])(ma,pa,da,!1,null,null,null)),ga=va.exports,fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})]),a("br"),a("p",[t._v('Note: If a "categories" key exists (where each category has a key of "name"), it will be used to display category links for each product!')])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Products")]),a("a",{attrs:{href:"/"}}),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise5-products-index",query:{sort:"price",sort_order:"asc"}},append:""}},[t._v("Sort by lowest price")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise5-products-index",query:{sort:"price",sort_order:"desc"}},append:""}},[t._v("Sort by highest price")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise5-products-index",query:{discount:!0}},append:""}},[t._v("Show only discounted")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise5-products-index"},append:""}},[t._v("Show all")]),a("div",{staticClass:"card-columns"},t._l(t.products,(function(e){return a("div",{staticClass:"card"},[a("img",{staticClass:"card-img-top",attrs:{src:t.getPrimaryImage(e),alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),t._l(e.categories,(function(e){return a("router-link",{staticClass:"d-inline-block mr-2 mb-3",attrs:{to:{name:"exercise5-products-index",query:{category:e.name}},append:""}},[t._v(" "+t._s(e.name)+" ")])})),a("h6",[t._v(t._s(e.price))]),a("p",{staticClass:"card-text"},[t._v(t._s(t._f("truncate")(e.description)))]),a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"exercise5-products-show",params:{id:e.id}},append:""}},[t._v("More info")])],2)])})),0)],1)])},ha=[],_a={mixins:[K],props:["appConfig","showError"],data:function(){return{products:[],schema:{type:"array",items:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImagesKey:{alias:"images",type:"array",items:{type:"object",properties:{imagesUrlKey:{alias:"url",type:"string"}}}}}}}}},created:function(){this.requestProducts()},beforeRouteUpdate:function(t,e,a){a(),this.requestProducts()},methods:{requestProducts:function(){var t=this,e=this.$route.fullPath.split("?").length>1?"?"+this.$route.fullPath.split("?")[1]:"";n.a.get(this.appConfig.domain+this.appConfig.productsUrl+e).then((function(e){t.products=t.formatDataToSchema(e.data)||t.products})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},getPrimaryImage:function(t){return t.images.length>0?t.images[0].url:"http://www.pinnacleeducations.in/wp-content/uploads/2017/05/no-image.jpg"}},filters:{truncate:function(t){if(null===t)return"(No description provided)";var e=120;return t.length<e?t:t.substring(0,e-3)+"..."}}},ba=_a,Ca=Object(u["a"])(ba,fa,ha,!1,null,null,null),ya=Ca.exports,xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})]),a("p",{staticClass:"mt-4"},[t._v('Note: When you create a new session, if you send an "admin" key with a value of true or false, the app will only show admin specific features to admins!')])])]),a("div",{staticClass:"container"},[a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel"}},[a("ol",{staticClass:"carousel-indicators"},t._l(t.product.images,(function(t,e){return a("li",{class:{active:0===e},attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":e}})})),0),a("div",{staticClass:"carousel-inner"},t._l(t.product.images,(function(t,e){return a("div",{class:{"carousel-item":!0,active:0===e}},[a("div",{staticClass:"img",style:"background-image:url("+t.url+");"})])})),0),t._m(0),t._m(1)]),a("div",{staticClass:"card mt-4"},[a("div",{staticClass:"card-body"},[a("form",{staticClass:"mb-4",on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("label",[t._v("Quantity:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),a("input",{staticClass:"btn btn-primary mt-2",attrs:{type:"submit",value:"Add to cart!"}})])])])]),a("div",{staticClass:"col-md-9"},[a("h1",[t._v(t._s(t.product.name))]),a("p",{staticClass:"lead"},[t._v(t._s(t.product.description))]),a("table",{staticClass:"table table-hover"},[a("tbody",t._l(t.originalProductData,(function(e,s){return a("tr",[a("td",[a("small",[t._v(t._s(s))])]),a("td",[a("small",[t._v(t._s(e))])])])})),0)]),t.isAdmin()?a("router-link",{staticClass:"btn btn-primary mr-1",attrs:{to:{name:"exercise5-products-edit",params:{id:t.product.id}}}},[t._v("Edit product")]):t._e(),t.isAdmin()?a("button",{staticClass:"btn btn-warning mr-1",attrs:{type:"button","data-toggle":"modal","data-target":"#deleteModal"}},[t._v("Delete product")]):t._e(),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise5-products-index"}}},[t._v("Back to all products")])],1)])]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body"},[t._v("Are you sure you want to delete this product? This action cannot be undone.")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.deleteProduct(t.product)}}},[t._v("Delete")])])])])])])},wa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Confirm delete")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Pa={mixins:[K],props:["appConfig","isAdmin"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImagesKey:{alias:"images",type:"array",items:{type:"object",properties:{imagesUrlKey:{alias:"url",type:"string"}}}}}},originalProductData:{},quantity:null,errors:[]}},created:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product,t.originalProductData=e.data})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{deleteProduct:function(t){var e=this;console.log("delete",t),n.a.delete(this.appConfig.domain+this.appConfig.productsUrl+"/"+t.id).then((function(t){$("#deleteModal").modal("hide"),e.$router.push({name:"exercise5-products-index"})})).catch((function(t){e.errors=t.response.data.errors}))},submit:function(){var t=this,e={product_id:this.$route.params.id,quantity:this.quantity};n.a.post(this.appConfig.domain+this.appConfig.cartedProductsUrl,e).then((function(e){t.quantity=null,t.$router.push({name:"exercise5-carted-products-index"})})).catch((function(e){e.response&&401===e.response.status&&t.$router.push({name:"exercise5-login"})}))}}},Da=Pa,$a=(a("d8ba"),Object(u["a"])(Da,xa,wa,!1,null,null,null)),Sa=$a.exports,Ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data sending to")]),t._v(": POST "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl))]),t._m(0),a("br"),a("p",[t._v("Note: If GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.suppliersUrl)+" exists, it will be used to display suppliers as a dropdown using the "+t._s(t.appConfig.suppliersNameKey)+" key!")])])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("New product")]),a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Image url:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.image_url,expression:"image_url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.image_url},on:{input:function(e){e.target.composing||(t.image_url=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t.suppliers.length>0?a("div",{staticClass:"form-group"},[a("label",[t._v("Supplier:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.supplier_id,expression:"supplier_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.supplier_id=e.target.multiple?a:a[0]}}},t._l(t.suppliers,(function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]):a("div",{staticClass:"form-group"},[a("label",[t._v("Supplier id:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.supplier_id,expression:"supplier_id"}],staticClass:"form-control",attrs:{type:"number",min:"1"},domProps:{value:t.supplier_id},on:{input:function(e){e.target.composing||(t.supplier_id=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise5-products-index"}}},[t._v("Cancel")])],1)])])},Ka=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(": "),a("strong",[t._v("name")]),t._v(", "),a("strong",[t._v("price")]),t._v(", "),a("strong",[t._v("image_url")]),t._v(", "),a("strong",[t._v("description")]),t._v(", "),a("strong",[t._v("supplier_id")])])}],Ea={data:function(){return{name:"",price:"",image_url:"",description:"",supplier_id:"",suppliers:[],errors:[]}},props:["appConfig","isAdmin"],created:function(){this.isAdmin()?this.requestSuppliers():this.$router.push({name:"exercise5-login"})},methods:{requestSuppliers:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.suppliersUrl).then((function(e){var a=!0;e.data.forEach((function(e){var s=e[t.appConfig.suppliersIdKey],r=e[t.appConfig.suppliersNameKey];void 0!==s&&void 0!==r||(a=!1)})),a&&(t.suppliers=e.data)}))},submit:function(){var t=this,e={name:this.name,price:this.price,image_url:this.image_url,description:this.description,supplier_id:this.supplier_id};n.a.post(this.appConfig.domain+this.appConfig.productsUrl,e).then((function(e){t.$router.push({name:"exercise5-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},ka=Ea,Ua=Object(u["a"])(ka,Ia,Ka,!1,null,null,null),Na=Ua.exports,Ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})]),a("br"),a("p",[a("strong",[t._v("Data sending to")]),t._v(": PATCH "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id))]),t._m(0)])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Edit product")]),a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise5-products-show",params:{id:t.product.id}}}},[t._v("Cancel")])],1)])])},ja=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(": "),a("strong",[t._v("name")]),t._v(", "),a("strong",[t._v("price")]),t._v(", "),a("strong",[t._v("description")]),t._v(" (can't edit images or supplier)")])}],Oa={mixins:[K],props:["appConfig","isAdmin"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"}}},errors:[]}},created:function(){var t=this;this.isAdmin()?n.a.get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)})):this.$router.push({name:"exercise5-login"})},methods:{submit:function(){var t=this,e={name:this.product.name,price:this.product.price,description:this.product.description};n.a.patch(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id,e).then((function(e){t.$router.push({name:"exercise5-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},qa=Oa,Ma=Object(u["a"])(qa,Ta,ja,!1,null,null,null),La=Ma.exports,Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.cartedProductsUrl))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Shopping Cart")]),0===t.cartedProducts.length?a("div",[a("p",[t._v("Nothing in shopping cart!")]),a("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"exercise5-products-index"}}},[t._v("All products")])],1):a("div",[t._l(t.cartedProducts,(function(e){return a("div",[a("h2",[t._v("Product: "+t._s(e.product.name))]),a("p",[t._v("Quantity: "+t._s(e.quantity))]),a("p",[t._v("Price: "+t._s(e.product.price))])])})),a("router-link",{staticClass:"btn btn-primary mr-3",attrs:{to:{name:"exercise5-products-index"}}},[t._v("Continue shopping")]),a("button",{staticClass:"btn btn-success",on:{click:function(e){return t.createOrder()}}},[t._v("Buy now!")])],2)])])},Ha=[],Ga={mixins:[K],props:["appConfig"],data:function(){return{cartedProducts:[],schema:{type:"array",items:{type:"object",properties:{cartedProductsIdKey:{alias:"id",type:"integer"},cartedProductsQuantityKey:{alias:"quantity",type:"integer"},cartedProductsProductKey:{alias:"product",type:"object",properties:{productsNameKey:{alias:"name",type:"string"}}}}}}}},created:function(){this.requestCartedProducts()},methods:{requestCartedProducts:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.cartedProductsUrl).then((function(e){t.cartedProducts=t.formatDataToSchema(e.data)||t.cartedProducts})).catch((function(e){e.response&&401===e.response.status?t.$router.push({name:"exercise5-login"}):t.$emit("showError",["domain","cartedProductsUrl"],e.request.status)}))},createOrder:function(){var t=this;n.a.post(this.appConfig.domain+this.appConfig.ordersUrl).then((function(e){t.$router.push({name:"exercise5-orders-show",params:{id:e.data.id}})})).catch((function(e){e.response&&401===e.response.status&&t.$router.push({name:"exercise5-login"})}))}}},Fa=Ga,Ra=Object(u["a"])(Fa,Aa,Ha,!1,null,null,null),Ba=Ra.exports,Qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.ordersUrl))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Orders")]),0===t.orders.length?a("p",[t._v("No orders placed yet!")]):t._e(),t._l(t.orders,(function(e){return a("div",[a("h4",[t._v("Order #"+t._s(e.id))]),a("hr"),t._l(e.cartedProducts,(function(e){return a("div",[a("p",[t._v("\n          "+t._s(e.quantity)+" x "),e.product?a("span",[t._v(t._s(e.product.name))]):a("span",[t._v("Product id "+t._s(e.product_id))])])])})),a("hr"),a("p",[t._v("Subtotal: "+t._s(e.subtotal))]),a("p",[t._v("Tax: "+t._s(e.tax))]),a("p",[t._v("Total: "+t._s(e.total))]),a("br")],2)}))],2)])},za=[],Ja={mixins:[K],props:["appConfig"],data:function(){return{orders:[],schema:{type:"array",items:{type:"object",properties:{ordersIdKey:{alias:"id",type:"integer"},ordersSubtotalKey:{alias:"subtotal",type:"number"},ordersTaxKey:{alias:"tax",type:"number"},ordersTotalKey:{alias:"total",type:"number"},ordersCartedProductsKey:{alias:"cartedProducts",type:"array",items:{type:"object",properties:{cartedProductsQuantityKey:{alias:"quantity",type:"integer"},cartedProductsProductKey:{alias:"product",type:"object",properties:{productsNameKey:{alias:"name",type:"string"}}}}}}}}}}},created:function(){this.requestOrders()},methods:{requestOrders:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.ordersUrl).then((function(e){t.orders=t.formatDataToSchema(e.data)||t.orders})).catch((function(e){e.response&&401===e.response.status?t.$router.push({name:"exercise5-login"}):t.$emit("showError",["domain","ordersUrl"],e.request.status)}))}}},Wa=Ja,Va=Object(u["a"])(Wa,Qa,za,!1,null,null,null),Xa=Va.exports,Ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(": GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.ordersUrl)+"/"+t._s(t.$route.params.id))]),a("p",[a("strong",[t._v("Data shape")]),t._v(": "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Order #"+t._s(t.order.id))]),a("hr"),t._l(t.order.cartedProducts,(function(e){return a("div",[a("p",[t._v("\n        "+t._s(e.quantity)+" x "),e.product?a("span",[t._v(t._s(e.product.name))]):a("span",[t._v("Product id "+t._s(e.product_id))])])])})),a("hr"),a("p",[t._v("Subtotal: "+t._s(t.order.subtotal))]),a("p",[t._v("Tax: "+t._s(t.order.tax))]),a("p",[t._v("Total: "+t._s(t.order.total))]),a("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"exercise5-products-index"}}},[t._v("Back to all products")])],2)])},Za=[],ts={mixins:[K],props:["appConfig"],data:function(){return{order:{id:0,product:{}},schema:{type:"object",properties:{ordersIdKey:{alias:"id",type:"integer"},ordersSubtotalKey:{alias:"subtotal",type:"number"},ordersTaxKey:{alias:"tax",type:"number"},ordersTotalKey:{alias:"total",type:"number"},ordersCartedProductsKey:{alias:"cartedProducts",type:"array",items:{type:"object",properties:{cartedProductsQuantityKey:{alias:"quantity",type:"integer"},cartedProductsProductKey:{alias:"product",type:"object",properties:{productsNameKey:{alias:"name",type:"string"}}}}}}}}}},created:function(){var t=this;n.a.get(this.appConfig.domain+this.appConfig.ordersUrl+"/"+this.$route.params.id).then((function(e){t.order=t.formatDataToSchema(e.data)||t.order})).catch((function(e){e.response&&401===e.response.status?t.$router.push({name:"exercise5-login"}):t.$emit("showError",["domain","ordersUrl"],e.request.status)}))},methods:{deleteProduct:function(t){var e=this;console.log("delete",t),n.a.delete(this.appConfig.domain+this.appConfig.productsUrl+"/"+t.id).then((function(t){$("#deleteModal").modal("hide"),e.$router.push({name:"exercise5-products-index"})})).catch((function(t){e.errors=t.response.data.errors}))},submit:function(){var t=this,e={product_id:this.$route.params.id,quantity:this.quantity};n.a.post(this.appConfig.domain+this.appConfig.ordersUrl,e).then((function(e){t.quantity=null,t.$router.push({name:"exercise5-orders-show"})}))}}},es=ts,as=(a("bbf9"),Object(u["a"])(es,Ya,Za,!1,null,null,null)),ss=as.exports,rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"signup"},[a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Signup")]),a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password confirmation:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.passwordConfirmation},on:{input:function(e){e.target.composing||(t.passwordConfirmation=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},os=[],is={data:function(){return{name:"",email:"",password:"",passwordConfirmation:"",errors:[]}},methods:{submit:function(){var t=this,e={name:this.name,email:this.email,password:this.password,password_confirmation:this.passwordConfirmation};n.a.post("http://localhost:3000/api/users",e).then((function(e){t.$router.push({name:"exercise5-login"})})).catch((function(e){t.errors=e.response.data.errors}))}}},ns=is,ls=Object(u["a"])(ns,rs,os,!1,null,null,null),cs=ls.exports,ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Login")]),a("ul",t._l(t.errors,(function(e){return a("li",{staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},ds=[],us={template:"#login-page",data:function(){return{email:"",password:"",errors:[]}},methods:{submit:function(){var t=this,e={email:this.email,password:this.password};n.a.post("http://localhost:3000/api/sessions",e).then((function(e){n.a.defaults.headers.common["Authorization"]="Bearer "+e.data.jwt,localStorage.setItem("jwt",e.data.jwt),localStorage.setItem("admin",e.data.admin),t.$router.push({name:"exercise5-products-index"})})).catch((function(e){t.errors=["Invalid email or password."],t.email="",t.password=""}))}}},ms=us,vs=Object(u["a"])(ms,ps,ds,!1,null,null,null),gs=vs.exports,fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logout"})},hs=[],_s={created:function(){delete n.a.defaults.headers.common["Authorization"],localStorage.removeItem("jwt"),localStorage.removeItem("admin"),this.$router.push({name:"exercise5-products-index"})}},bs=_s,Cs=Object(u["a"])(bs,fs,hs,!1,null,null,null),ys=Cs.exports;s["a"].use(g["a"]);var xs=new g["a"]({routes:[{path:"/restful-routes",component:y,children:[{path:"products",component:N,name:"exercise1-products-index"},{path:"products/new",component:B,name:"exercise1-products-new"},{path:"products/:id",component:L,name:"exercise1-products-show"},{path:"products/:id/edit",component:X,name:"exercise1-products-edit"}]},{path:"/active-record-queries",component:st,children:[{path:"products",component:ct,name:"exercise2-products-index"},{path:"products/new",component:yt,name:"exercise2-products-new"},{path:"products/:id",component:gt,name:"exercise2-products-show"},{path:"products/:id/edit",component:St,name:"exercise2-products-edit"}]},{path:"/model-associations",component:Nt,children:[{path:"products",component:Lt,name:"exercise3-products-index"},{path:"products/new",component:Xt,name:"exercise3-products-new"},{path:"products/:id",component:Bt,name:"exercise3-products-show"},{path:"products/:id/edit",component:se,name:"exercise3-products-edit"}]},{path:"/authentication",component:ce,children:[{path:"products",component:ge,name:"exercise4-products-index"},{path:"products/new",component:Se,name:"exercise4-products-new"},{path:"products/:id",component:ye,name:"exercise4-products-show"},{path:"products/:id/edit",component:Ne,name:"exercise4-products-edit"},{path:"orders",component:Le,name:"exercise4-orders-index"},{path:"orders/:id",component:Be,name:"exercise4-orders-show"},{path:"signup",component:Xe,name:"exercise4-signup"},{path:"login",component:sa,name:"exercise4-login"},{path:"logout",component:ca,name:"exercise4-logout"}]},{path:"/has-many-through",component:ga,children:[{path:"products",component:ya,name:"exercise5-products-index"},{path:"products/new",component:Na,name:"exercise5-products-new"},{path:"products/:id",component:Sa,name:"exercise5-products-show"},{path:"products/:id/edit",component:La,name:"exercise5-products-edit"},{path:"carted_products",component:Ba,name:"exercise5-carted-products-index"},{path:"orders",component:Xa,name:"exercise5-orders-index"},{path:"orders/:id",component:ss,name:"exercise5-orders-show"},{path:"signup",component:cs,name:"exercise5-signup"},{path:"login",component:gs,name:"exercise5-login"},{path:"logout",component:ys,name:"exercise5-logout"}]}]}),ws=localStorage.getItem("jwt");ws&&(n.a.defaults.headers.common["Authorization"]="Bearer "+ws),s["a"].config.productionTip=!1,new s["a"]({router:xs,render:function(t){return t(v)}}).$mount("#app")},"5b80":function(t,e,a){"use strict";var s=a("1048"),r=a.n(s);r.a},"5c11":function(t,e,a){},"64a9":function(t,e,a){},"6b2f":function(t,e,a){"use strict";var s=a("6d3f"),r=a.n(s);r.a},"6d3f":function(t,e,a){},8871:function(t,e,a){},"97d5":function(t,e,a){},a030:function(t,e,a){},b983:function(t,e,a){},ba0a:function(t,e,a){},bbf9:function(t,e,a){"use strict";var s=a("b983"),r=a.n(s);r.a},c581:function(t,e,a){"use strict";var s=a("282b"),r=a.n(s);r.a},cce6:function(t,e,a){"use strict";var s=a("ba0a"),r=a.n(s);r.a},d22f:function(t,e,a){"use strict";var s=a("e41a"),r=a.n(s);r.a},d8ba:function(t,e,a){"use strict";var s=a("a030"),r=a.n(s);r.a},e41a:function(t,e,a){}});
//# sourceMappingURL=app.e7e16380.js.map